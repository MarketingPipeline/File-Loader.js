/**!
 * @license File-Loader.js - A JavaScript library to easily load scripts / stylesheets to HTML pages - with support for loading MULTIPLE file
 * VERSION: 1.0.0
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/File-Loader.js/
 */
export function FileLoader(e){const t=[];let r="";return async function(){if(!e)throw"No files to load were passed - see the github repo for proper usage";if(e instanceof Array){if(0==e.length)throw"No files to load were passed - see the github repo for proper usage"}else try{let t=await async function(){const t=await fetch(e);return await t.json()}();for(const r in t){if(void 0===t[r].file_url)throw"JSON file loaded from url was not valid..";e=t}}catch(e){throw`Failed To Load JSON: ${e}`}e.forEach((function(e){!1===function(e){e||(e="http://xxx.co.uk/xxx/script.js");let t,r=e.file_type;t="js"==r?document.getElementsByTagName("script"):document.getElementsByTagName("link");for(var o=t.length;o--;){if("js"==r&&t[o].src==e.url)return!0;if("css"==r&&t[o].href==e.url)return!0}return!1}(e)?t.push(async function(e){return new Promise((function(t,r){if(!e.url)throw"No File Source / URL was found to load";let o=null,n=e.file_type;if("js"!=n&&"css"!=n)throw`${e.url} failed to load - no file type was found for Script-Loader.js`;if("js"==n){o=document.createElement("script"),o.src=e.url;for(const t in e.attributes)o.setAttribute(t,e.attributes[t])}if("css"==n){o=document.createElement("link"),o.type="text/css",o.rel="stylesheet",o.href=e.url;for(const t in e.attributes)o.setAttribute(t,e.attributes[t])}o.onload=()=>{t(e)},o.onerror=()=>{r(e)},e.append_to_head?document.head.appendChild(o):document.body.appendChild(o)}))}(e)):r+=e.url}));const o=await Promise.all(t).then((async function(){return 0!=r.length?`Scripts Have Been Loaded - these files have been avoided. They were already loaded by user / you in another script. \n${r}`:"Scripts Have Been Loaded"})).catch((function(e){throw e.url?`File-Loader.js Error: ${e.url} failed to load! File Type Set To - ${e.file_type}`:`File-Loader.js Error: ${e}`}));return await o}()}
